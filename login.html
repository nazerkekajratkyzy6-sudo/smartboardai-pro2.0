<!DOCTYPE html>
<html lang="kk">
<head>
  <meta charset="UTF-8">
  <title>SmartBoardAI PRO ‚Äî –ö—ñ—Ä—É</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="main.css">
</head>

<body class="login-body">

  <div class="login-card">

    <h2 class="login-title">SmartBoardAI PRO</h2>
    <p class="login-sub">–ú“±“ì–∞–ª—ñ–º –∞–∫–∫–∞—É–Ω—Ç—ã–º–µ–Ω –∫—ñ—Ä—ñ“£—ñ–∑</p>

    <input type="email" id="email" placeholder="Email" class="login-input">
    <input type="password" id="password" placeholder="“ö“±–ø–∏—è —Å”©–∑" class="login-input">

    <button id="loginBtn" class="login-btn">üîë –ö—ñ—Ä—É</button>
    <button id="registerBtn" class="login-btn secondary">‚ûï –¢—ñ—Ä–∫–µ–ª—É</button>

    <div class="or">–Ω–µ–º–µ—Å–µ</div>

    <button id="googleBtn" class="login-btn google">üîµ Google –∞—Ä“õ—ã–ª—ã –∫—ñ—Ä—É</button>

    <p class="login-footer">AI-Pedagogy Tools by Nazerke Kairatkyzy</p>
  </div>

  <script type="module">
    import {
      auth,
      googleProvider,
      signInWithEmailAndPassword,
      createUserWithEmailAndPassword,
      signInWithPopup
    } from "./firebaseConfig.js";

    const MY_EMAIL = "naz-erke_k@mail.ru";

    // ---------- LOGIN ----------
    document.getElementById("loginBtn").onclick = async () => {
      const email = emailInput.value.trim();
      const pass = password.value.trim();

      try {
        const userCred = await signInWithEmailAndPassword(auth, email, pass);
        if (userCred.user.email !== MY_EMAIL) {
          alert("–ë“±–ª –∞–∫–∫–∞—É–Ω—Ç“õ–∞ —Ä“±“õ—Å–∞—Ç –∂–æ“õ!");
          return;
        }
        location.href = "teacher.html";
      } catch (err) {
        alert("“ö–∞—Ç–µ: " + err.message);
      }
    };

    // ---------- REGISTER ----------
    document.getElementById("registerBtn").onclick = async () => {
      const email = emailInput.value.trim();
      const pass = password.value.trim();

      try {
        const userCred = await createUserWithEmailAndPassword(auth, email, pass);
        if (userCred.user.email !== MY_EMAIL) {
          alert("–¢–µ–∫ ”©–∑ email-—ñ“£—ñ–∑ —Ç—ñ—Ä–∫–µ–ª–µ –∞–ª–∞–¥—ã!");
          return;
        }
        location.href = "teacher.html";
      } catch (err) {
        alert("–¢—ñ—Ä–∫–µ–ª—É “õ–∞—Ç–µ—Å—ñ: " + err.message);
      }
    };

    // ---------- GOOGLE LOGIN ----------
    document.getElementById("googleBtn").onclick = async () => {
      try {
        const result = await signInWithPopup(auth, googleProvider);
        if (result.user.email !== MY_EMAIL) {
          alert("–†“±“õ—Å–∞—Ç –∂–æ“õ!");
          return;
        }
        location.href = "teacher.html";
      } catch (err) {
        alert("Google –∞—Ä“õ—ã–ª—ã –∫—ñ—Ä—É “õ–∞—Ç–µ—Å—ñ: " + err.message);
      }
    };
  </script>

</body>
</html>
