<!DOCTYPE html>
<html lang="kk">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>“ö“±–º—Å–∞“ì–∞—Ç —Ä–µ—Ñ–ª–µ–∫—Å–∏—è—Å—ã ¬∑ GOLD NEON ‚Ä¢ AI-Pedagogy Tools by Nazerke Kairatkyzy</title>

<style>
  :root{
    --bg:#020617;
    --ink:#e5e7eb;
    --muted:#9ca3af;

    --ok:#22c55e;
    --mid:#facc15;
    --bad:#f97373;

    --glass:#020617;
    --border:rgba(148,163,184,0.75);
  }

  *{box-sizing:border-box;}

  body{
    margin:0;
    min-height:100vh;
    display:flex;
    align-items:center;
    justify-content:center;
    background:
      radial-gradient(circle at top, rgba(250,204,21,0.2), transparent 55%),
      radial-gradient(circle at bottom, rgba(129,140,248,0.3), transparent 60%),
      #020617;
    color:var(--ink);
    font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
    padding:18px;
  }

  .frame{
    width:min(1000px,100%);
    background:
      radial-gradient(circle at top left, rgba(250,204,21,0.2), transparent 55%),
      radial-gradient(circle at bottom right, rgba(56,189,248,0.2), transparent 55%),
      linear-gradient(135deg,#020617,#020617);
    border-radius:22px;
    border:1px solid var(--border);
    box-shadow:
      0 0 30px rgba(250,204,21,0.6),
      0 0 55px rgba(15,23,42,0.95);
    padding:18px 18px 12px;
    position:relative;
    overflow:hidden;
  }

  header{
    margin-bottom:10px;
  }

  h1{
    margin:0;
    font-size:clamp(22px,3vw,30px);
    font-weight:800;
    letter-spacing:0.04em;
    text-transform:uppercase;
    color:#fef9c3;
    text-shadow:
      0 0 16px rgba(250,204,21,0.9),
      0 0 28px rgba(252,211,77,0.9);
  }

  .subtitle{
    margin-top:4px;
    font-size:13px;
    color:var(--muted);
  }

  .layout{
    display:grid;
    grid-template-columns:340px 1fr;
    gap:14px;
    margin-top:10px;
  }

  @media(max-width:900px){
    .layout{grid-template-columns:1fr;}
  }

  .panel{
    background:rgba(15,23,42,0.96);
    border-radius:18px;
    border:1px solid var(--border);
    box-shadow:0 0 22px rgba(15,23,42,1);
    padding:14px 12px;
  }

  /* “ö“±–º—Å–∞“ì–∞—Ç */

  .hourglass-wrap{
    display:flex;
    flex-direction:column;
    align-items:center;
    gap:10px;
  }

  .hourglass-box{
    width:220px;
    aspect-ratio:3/5;
    position:relative;
    display:flex;
    align-items:center;
    justify-content:center;
    filter:
      drop-shadow(0 0 14px rgba(250,204,21,0.8))
      drop-shadow(0 0 26px rgba(249,250,229,0.9));
  }

  .hourglass{
    position:relative;
    width:150px;
    height:210px;
  }

  .hg-frame{
    position:absolute;
    inset:0;
    border-radius:24px;
    border:3px solid rgba(253,224,71,0.9);
    box-shadow:
      0 0 18px rgba(250,204,21,0.9),
      inset 0 0 18px rgba(252,211,77,0.9);
  }

  .hg-top, .hg-bottom{
    position:absolute;
    left:50%;
    width:0;
    border-left:70px solid transparent;
    border-right:70px solid transparent;
  }

  .hg-top{
    top:18px;
    border-bottom:90px solid rgba(253,224,71,0.22);
  }

  .hg-bottom{
    bottom:18px;
    border-top:90px solid rgba(253,224,71,0.22);
  }

  .hg-sand-top, .hg-sand-bottom{
    position:absolute;
    left:50%;
    width:0;
    border-left:62px solid transparent;
    border-right:62px solid transparent;
    transform:translateX(-50%);
    transition:all .35s ease-out;
  }

  .hg-sand-top{
    top:26px;
    border-bottom:78px solid rgba(253,224,71,0.85);
    filter:drop-shadow(0 0 12px rgba(250,250,210,0.9));
  }

  .hg-sand-bottom{
    bottom:26px;
    border-top:18px solid rgba(252,211,77,0.9);
    filter:drop-shadow(0 0 10px rgba(254,240,138,0.9));
  }

  .hg-stream{
    position:absolute;
    left:50%;
    top:50%;
    width:5px;
    height:46px;
    transform:translate(-50%,-40%);
    background:linear-gradient(#fef9c3,#fde047,#fbbf24);
    border-radius:999px;
    box-shadow:0 0 12px rgba(250,250,209,0.9);
    opacity:0.9;
    animation:sandFlow 1s infinite ease-in-out;
  }

  @keyframes sandFlow{
    0%{opacity:.15; height:24px;}
    50%{opacity:1; height:46px;}
    100%{opacity:.15; height:24px;}
  }

  .hg-cap-top,.hg-cap-bottom{
    position:absolute;
    left:50%;
    width:120px;
    height:14px;
    transform:translateX(-50%);
    border-radius:999px;
    background:radial-gradient(circle at 30% 30%,#fef9c3,#b45309);
    box-shadow:
      0 0 12px rgba(250,250,210,0.8),
      0 10px 18px rgba(0,0,0,0.7);
  }
  .hg-cap-top{top:6px;}
  .hg-cap-bottom{bottom:6px;}

  .hg-glow{
    position:absolute;
    inset:-20%;
    border-radius:30px;
    background:radial-gradient(circle at 50% 0%,rgba(253,224,71,0.35),transparent 55%);
    opacity:.3;
    pointer-events:none;
  }

  .hg-shake{
    animation:shake .35s ease-out;
  }
  @keyframes shake{
    0%{transform:translateX(0);}
    25%{transform:translateX(-4px);}
    50%{transform:translateX(4px);}
    75%{transform:translateX(-2px);}
    100%{transform:translateX(0);}
  }

  .hg-label{
    font-size:14px;
    color:var(--muted);
    text-align:center;
  }

  .summary{
    margin-top:6px;
    display:flex;
    flex-direction:column;
    gap:6px;
  }
  .summary-row{
    display:flex;
    flex-wrap:wrap;
    gap:8px;
    justify-content:center;
    font-size:13px;
  }

  .pill-small{
    border-radius:999px;
    padding:5px 10px;
    border:1px solid rgba(148,163,184,0.75);
    background:rgba(15,23,42,0.95);
    color:var(--muted);
    font-size:12px;
  }
  .pill-small b{
    color:#e5e7eb;
  }

  .bar-wrap{
    height:12px;
    border-radius:999px;
    background:rgba(15,23,42,0.95);
    border:1px solid rgba(148,163,184,0.7);
    overflow:hidden;
  }
  .bar-fill{
    height:100%;
    width:0%;
    transition:width .3s;
  }
  .bar-main{
    background:linear-gradient(90deg,#22c55e,#facc15);
    box-shadow:0 0 18px rgba(250,204,21,0.9);
  }

  /* –û“£ –∂–∞“õ –ø–∞–Ω–µ–ª—å ‚Äì –±–∞—Ç—ã—Ä–º–∞–ª–∞—Ä –º–µ–Ω —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ */

  .right-panel{
    display:flex;
    flex-direction:column;
    gap:10px;
  }

  .btn-row{
    display:grid;
    grid-template-columns:repeat(3,minmax(0,1fr));
    gap:8px;
  }

  .ref-btn{
    border-radius:14px;
    border:1px solid rgba(148,163,184,0.75);
    background:radial-gradient(circle at top left,rgba(250,250,210,0.1),transparent 55%),
               rgba(15,23,42,0.98);
    color:#e5e7eb;
    padding:10px 10px;
    text-align:left;
    font-size:14px;
    font-weight:600;
    box-shadow:0 0 14px rgba(15,23,42,1);
    cursor:pointer;
    display:flex;
    flex-direction:column;
    gap:4px;
    transition:transform .12s, box-shadow .12s, border-color .12s, background .12s;
  }

  .ref-btn span:first-child{
    font-size:18px;
  }

  .ref-btn.ok:hover{
    border-color:var(--ok);
    box-shadow:0 0 20px rgba(34,197,94,0.9);
  }
  .ref-btn.mid:hover{
    border-color:var(--mid);
    box-shadow:0 0 20px rgba(250,204,21,0.9);
  }
  .ref-btn.bad:hover{
    border-color:var(--bad);
    box-shadow:0 0 20px rgba(248,113,113,0.9);
  }

  .ref-btn.active.ok{
    border-color:var(--ok);
    background:radial-gradient(circle at top left,rgba(34,197,94,0.3),transparent 55%),#022c22;
  }
  .ref-btn.active.mid{
    border-color:var(--mid);
    background:radial-gradient(circle at top left,rgba(250,204,21,0.3),transparent 55%),#422006;
  }
  .ref-btn.active.bad{
    border-color:var(--bad);
    background:radial-gradient(circle at top left,rgba(248,113,113,0.3),transparent 55%),#450a0a;
  }

  .stats-card{
    background:rgba(15,23,42,0.98);
    border-radius:16px;
    border:1px solid var(--border);
    padding:8px 10px;
    box-shadow:0 0 16px rgba(15,23,42,1);
    font-size:13px;
  }

  .stats-row{
    display:flex;
    flex-wrap:wrap;
    gap:8px;
    justify-content:space-between;
  }

  .stats-row .pill-small{
    font-size:12px;
  }

  .mini-bars{
    display:grid;
    grid-template-columns:repeat(3,minmax(0,1fr));
    gap:6px;
    margin-top:6px;
  }

  .mini{
    height:8px;
    border-radius:999px;
    background:rgba(15,23,42,0.95);
    border:1px solid rgba(148,163,184,0.7);
    overflow:hidden;
  }

  .mini-fill{
    height:100%;
    width:0%;
    transition:width .3s;
  }

  .mini-fill.ok{
    background:linear-gradient(90deg,#22c55e,#bbf7d0);
    box-shadow:0 0 14px rgba(34,197,94,0.9);
  }
  .mini-fill.mid{
    background:linear-gradient(90deg,#facc15,#fef9c3);
    box-shadow:0 0 14px rgba(250,204,21,0.9);
  }
  .mini-fill.bad{
    background:linear-gradient(90deg,#f97373,#fecaca);
    box-shadow:0 0 14px rgba(248,113,113,0.9);
  }

  .controls{
    display:flex;
    flex-wrap:wrap;
    gap:8px;
    justify-content:flex-end;
    margin-top:6px;
  }

  .btn-ghost{
    border-radius:999px;
    border:1px solid var(--border);
    background:rgba(15,23,42,0.98);
    color:#e5e7eb;
    padding:6px 10px;
    font-size:12px;
    font-weight:600;
    cursor:pointer;
    box-shadow:0 0 12px rgba(15,23,42,1);
    display:inline-flex;
    align-items:center;
    gap:6px;
  }
  .btn-ghost:hover{
    border-color:#38bdf8;
    box-shadow:0 0 18px rgba(56,189,248,0.9);
  }

  .hint{
    margin-top:4px;
    font-size:11px;
    color:var(--muted);
    text-align:right;
  }

  .author{
    margin-top:10px;
    font-size:11px;
    color:var(--muted);
    text-align:center;
    letter-spacing:0.18em;
    text-transform:uppercase;
  }
</style>
</head>

<body>
<div class="frame" role="main">
  <header>
    <h1>“ö“±–º—Å–∞“ì–∞—Ç —Ä–µ—Ñ–ª–µ–∫—Å–∏—è—Å—ã ¬∑ GOLD NEON</h1>
    <div class="subtitle">
      –û“õ—É—à—ã–ª–∞—Ä ”©–∑ —Ö–∞–ª—ñ–Ω –∞–π—Ç–∞–¥—ã: ‚úÖ —Ç“Ø—Å—ñ–Ω–¥—ñ–º ¬∑ ‚è≥ ”ô–ª—ñ –æ–π–ª–∞–Ω—ã–ø –∂“Ø—Ä–º—ñ–Ω ¬∑ üÜò “õ–∏—ã–Ω –±–æ–ª–¥—ã.  
      “ö—ã—Å“õ–∞ –ø–µ—Ä–Ω–µ–ª–µ—Ä: 1 / 2 / 3.
    </div>
  </header>

  <div class="layout">
    <!-- “ö“∞–ú–°–ê“í–ê–¢ –ü–ê–ù–ï–õ–¨ -->
    <div class="panel">
      <div class="hourglass-wrap">
        <div class="hourglass-box">
          <div class="hourglass" id="hourglass">
            <div class="hg-frame"></div>
            <div class="hg-top"></div>
            <div class="hg-bottom"></div>
            <div class="hg-sand-top" id="sandTop"></div>
            <div class="hg-sand-bottom" id="sandBottom"></div>
            <div class="hg-stream"></div>
            <div class="hg-cap-top"></div>
            <div class="hg-cap-bottom"></div>
            <div class="hg-glow"></div>
          </div>
        </div>
        <div class="hg-label">
          ‚è≥ “ö“±–º—Å–∞“ì–∞—Ç—Ç–∞: <b id="mainPercent">0%</b> –æ“õ—É—à—ã ‚Äú—Ç“Ø—Å—ñ–Ω–¥—ñ–º‚Äù –¥–µ“£–≥–µ–π—ñ–Ω–µ –∂–∞“õ—ã–Ω–¥–∞–¥—ã.
        </div>

        <div class="summary">
          <div class="summary-row">
            <span class="pill-small">üë• –ë–∞—Ä–ª—ã“õ –æ“õ—É—à—ã: <b id="totalStudents">25</b></span>
            <span class="pill-small">üó≥ “ö–∞—Ç—ã—Å“õ–∞–Ω: <b id="voted">0</b></span>
            <span class="pill-small">üìä “ö–∞–ª“ì–∞–Ω—ã: <b id="left">25</b></span>
          </div>
          <div class="bar-wrap">
            <div class="bar-fill bar-main" id="barMain"></div>
          </div>
        </div>
      </div>
    </div>

    <!-- –û“¢ –ñ–ê“ö –ü–ê–ù–ï–õ–¨ -->
    <div class="right-panel">
      <div class="panel">
        <div class="btn-row">
          <button class="ref-btn ok" data-type="ok">
            <span>‚úÖ –¢“Ø—Å—ñ–Ω–¥—ñ–º</span>
            <span>–ú–∞—Ç–µ—Ä–∏–∞–ª–¥—ã —Ç–æ–ª—ã“õ —Ç“Ø—Å—ñ–Ω–¥—ñ–º</span>
          </button>
          <button class="ref-btn mid" data-type="mid">
            <span>‚è≥ ”ò–ª—ñ –æ–π–ª–∞–Ω—ã–ø –∂“Ø—Ä–º—ñ–Ω</span>
            <span>–ñ–∞–ª–ø—ã —Ç“Ø—Å—ñ–Ω–¥—ñ–º, –±—ñ—Ä–∞“õ –±–µ–∫—ñ—Ç—É –∫–µ—Ä–µ–∫</span>
          </button>
          <button class="ref-btn bad" data-type="bad">
            <span>üÜò “ö–∏—ã–Ω –±–æ–ª–¥—ã</span>
            <span>–¢“Ø—Å—ñ–Ω–±–µ–¥—ñ–º, –∫”©–º–µ–∫ –∫–µ—Ä–µ–∫</span>
          </button>
        </div>
      </div>

      <div class="stats-card">
        <div class="stats-row">
          <span class="pill-small">‚úÖ –¢“Ø—Å—ñ–Ω–¥—ñ–º: <b id="cntOk">0</b> (<span id="pcOk">0%</span>)</span>
          <span class="pill-small">‚è≥ ”ò–ª—ñ –æ–π–ª. : <b id="cntMid">0</b> (<span id="pcMid">0%</span>)</span>
          <span class="pill-small">üÜò “ö–∏—ã–Ω: <b id="cntBad">0</b> (<span id="pcBad">0%</span>)</span>
        </div>
        <div class="mini-bars">
          <div class="mini"><div class="mini-fill ok" id="miniOk"></div></div>
          <div class="mini"><div class="mini-fill mid" id="miniMid"></div></div>
          <div class="mini"><div class="mini-fill bad" id="miniBad"></div></div>
        </div>

        <div class="controls">
          <button class="btn-ghost" id="resetBtn">‚ôªÔ∏è –ù”©–ª–≥–µ —Ç“Ø—Å—ñ—Ä—É</button>
          <button class="btn-ghost" id="saveBtn">üíæ –°–∞“õ—Ç–∞—É</button>
          <button class="btn-ghost" id="loadBtn">üì• –ñ“Ø–∫—Ç–µ—É</button>
        </div>
        <div class="hint">
          –°—ã–Ω—ã–ø —Å–∞–Ω—ã: <input id="classInput" type="number" min="1" step="1" value="25"
                             style="width:60px;padding:3px 5px;border-radius:8px;
                                    border:1px solid rgba(148,163,184,0.8);
                                    background:#020617;color:#e5e7eb;font-size:12px;text-align:center;">
        </div>
      </div>
    </div>
  </div>

  <div class="author">
    AI-Pedagogy Tools by <b>Nazerke Kairatkyzy</b>
  </div>
</div>

<script>
(function(){
  const state = {
    total:25,
    ok:0,
    mid:0,
    bad:0
  };

  const els = {
    totalStudents: document.getElementById("totalStudents"),
    voted: document.getElementById("voted"),
    left: document.getElementById("left"),
    mainPercent: document.getElementById("mainPercent"),
    barMain: document.getElementById("barMain"),
    sandTop: document.getElementById("sandTop"),
    sandBottom: document.getElementById("sandBottom"),
    hourglass: document.getElementById("hourglass"),

    cntOk: document.getElementById("cntOk"),
    cntMid: document.getElementById("cntMid"),
    cntBad: document.getElementById("cntBad"),

    pcOk: document.getElementById("pcOk"),
    pcMid: document.getElementById("pcMid"),
    pcBad: document.getElementById("pcBad"),

    miniOk: document.getElementById("miniOk"),
    miniMid: document.getElementById("miniMid"),
    miniBad: document.getElementById("miniBad"),

    classInput: document.getElementById("classInput"),
    buttons: document.querySelectorAll(".ref-btn"),
    resetBtn: document.getElementById("resetBtn"),
    saveBtn: document.getElementById("saveBtn"),
    loadBtn: document.getElementById("loadBtn")
  };

  const STORAGE_KEY = "hourglass-ref-neon-v1";

  function clamp(n){ return Math.max(0, n|0); }

  function totalVoted(){
    return state.ok + state.mid + state.bad;
  }

  function animateHourglass(){
    els.hourglass.classList.remove("hg-shake");
    void els.hourglass.offsetWidth;
    els.hourglass.classList.add("hg-shake");
  }

  function render(){
    const total = state.total || 1;
    const voted = totalVoted();

    els.totalStudents.textContent = total;
    els.voted.textContent = voted;
    els.left.textContent = Math.max(total - voted, 0);

    const pOk = Math.round((state.ok / total) * 100) || 0;
    const pMid = Math.round((state.mid / total) * 100) || 0;
    const pBad = Math.round((state.bad / total) * 100) || 0;

    els.cntOk.textContent = state.ok;
    els.cntMid.textContent = state.mid;
    els.cntBad.textContent = state.bad;

    els.pcOk.textContent = pOk + "%";
    els.pcMid.textContent = pMid + "%";
    els.pcBad.textContent = pBad + "%";

    els.miniOk.style.width = pOk + "%";
    els.miniMid.style.width = pMid + "%";
    els.miniBad.style.width = pBad + "%";

    const mainP = pOk;
    els.mainPercent.textContent = mainP + "%";
    els.barMain.style.width = mainP + "%";

    const topHeight = 78 * (100 - mainP) / 100;
    const bottomHeight = 18 + (78 * mainP / 100);

    els.sandTop.style.borderBottomWidth = topHeight + "px";
    els.sandBottom.style.borderTopWidth = bottomHeight + "px";
  }

  function setClassSize(val){
    const num = clamp(val);
    state.total = num > 0 ? num : 1;
    els.classInput.value = state.total;
    render();
  }

  function vote(type){
    if(totalVoted() >= state.total) return;
    if(type === "ok") state.ok++;
    if(type === "mid") state.mid++;
    if(type === "bad") state.bad++;
    animateHourglass();
    setActiveButton(type);
    render();
  }

  function setActiveButton(type){
    els.buttons.forEach(btn=>{
      if(btn.dataset.type === type) btn.classList.add("active");
      else btn.classList.remove("active");
    });
  }

  function resetAll(){
    state.ok = state.mid = state.bad = 0;
    setActiveButton(null);
    render();
  }

  function save(){
    const payload = JSON.stringify(state);
    localStorage.setItem(STORAGE_KEY, payload);
  }

  function load(){
    const raw = localStorage.getItem(STORAGE_KEY);
    if(!raw) return;
    try{
      const data = JSON.parse(raw);
      state.total = clamp(data.total) || 25;
      state.ok = clamp(data.ok);
      state.mid = clamp(data.mid);
      state.bad = clamp(data.bad);
      els.classInput.value = state.total;
      render();
    }catch(e){}
  }

  els.buttons.forEach(btn=>{
    btn.addEventListener("click", ()=>{
      vote(btn.dataset.type);
    });
  });

  els.resetBtn.addEventListener("click", resetAll);
  els.saveBtn.addEventListener("click", save);
  els.loadBtn.addEventListener("click", load);

  els.classInput.addEventListener("change", ()=>{
    setClassSize(parseInt(els.classInput.value,10) || 1);
  });

  window.addEventListener("keydown", (e)=>{
    if(e.key === "1") vote("ok");
    if(e.key === "2") vote("mid");
    if(e.key === "3") vote("bad");
  });

  render();
})();
</script>
</body>
</html>
