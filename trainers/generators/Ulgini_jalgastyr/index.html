<!DOCTYPE html>
<html lang="kk">
<head>
<meta charset="UTF-8">
<title>Pattern Matrix PRO ‚Äì “Æ–ª–≥—ñ–Ω—ñ –∂–∞–ª“ì–∞—Å—Ç—ã—Ä</title>
<style>
    body{
        margin:0;
        padding:20px;
        font-family:system-ui,Arial;
        background:#eef2ff;
        display:flex;
        justify-content:center;
    }
    .container{
        max-width:900px;
        width:100%;
        background:white;
        padding:26px 30px;
        border-radius:18px;
        box-shadow:0 6px 25px rgba(0,0,0,0.18);
    }
    h1{
        text-align:center;
        color:#1e40af;
        margin-bottom:18px;
    }
    textarea, input{
        width:100%;
        border-radius:12px;
        border:1px solid #cbd5ff;
        padding:10px;
        margin-bottom:10px;
        font-size:15px;
    }
    textarea{
        height:130px;
        resize:vertical;
    }
    button{
        border:none;
        border-radius:999px;
        padding:10px 22px;
        background:linear-gradient(135deg,#6366f1,#4f46e5);
        color:white;
        font-size:15px;
        cursor:pointer;
        margin-bottom:14px;
        box-shadow:0 5px 12px rgba(79,70,229,0.35);
    }

    .matrix{
        display:grid;
        grid-template-columns:repeat(3,1fr);
        gap:10px;
        margin-top:16px;
    }
    .cell{
        background:#eef2ff;
        padding:16px;
        text-align:center;
        border-radius:14px;
        font-size:22px;
        border:1px solid #cbd5ff;
        min-height:50px;
        display:flex;
        justify-content:center;
        align-items:center;
        white-space:pre-wrap;
    }
    .cell.empty{
        background:white;
        border:2px dashed #94a3b8;
    }

    .options{
        margin-top:20px;
        display:grid;
        grid-template-columns:repeat(3,1fr);
        gap:14px;
    }
    .opt{
        background:#f1f5f9;
        border:1px solid #cbd5ff;
        padding:14px;
        font-size:20px;
        border-radius:14px;
        cursor:pointer;
        text-align:center;
        white-space:pre-wrap;
        transition:0.15s;
    }
    .opt:hover{
        transform:scale(1.05);
        border-color:#6366f1;
    }

    .correct{
        background:#22c55e !important;
        color:white !important;
    }
    .wrong{
        background:#ef4444 !important;
        color:white !important;
    }

    .finish{
        margin-top:20px;
        font-size:22px;
        text-align:center;
        font-weight:600;
        color:#1e40af;
    }

    .author{
        margin-top:26px;
        text-align:center;
        font-size:14px;
        color:#777;
    }
</style>
</head>
<body>

<div class="container">

<h1>Pattern Matrix PRO ‚Äì “Æ–ª–≥—ñ–Ω—ñ –∂–∞–ª“ì–∞—Å—Ç—ã—Ä</h1>

<label>–ú–∞—Ç—Ä–∏—Ü–∞ (”ô—Ä –∂–æ–ª“ì–∞ –±—ñ—Ä “õ–∞—Ç–∞—Ä):</label>
<textarea id="matrixArea">‚¨§ ‚Üí ‚¨§‚¨§ ‚Üí ‚¨§‚¨§‚¨§
‚ñ≤ ‚Üí ‚ñ≤‚ñ≤ ‚Üí ‚ñ≤‚ñ≤‚ñ≤
‚ñ† ‚Üí ‚ñ†‚ñ† ‚Üí ???</textarea>

<label>–ñ–∞—É–∞–ø –Ω“±—Å“õ–∞–ª–∞—Ä—ã:</label>
<textarea id="optionsArea">‚ñ†‚ñ†‚ñ†
‚ñ†‚ñ†‚ñ†‚ñ†
‚ñ†
‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†</textarea>

<label>–î“±—Ä—ã—Å –∂–∞—É–∞–ø –Ω”©–º—ñ—Ä—ñ (1‚Äì6):</label>
<input id="correctNum" value="2">

<button onclick="startGame()">–û–π—ã–Ω–¥—ã –±–∞—Å—Ç–∞—É</button>

<div id="gameBox"></div>

<div class="author">
    ¬© Pedagogy Tools ‚Ä¢ Author: <b>Nazerke Kairatkyzy</b>
</div>

</div>

<script>
function startGame(){
    const matrixRows=document.getElementById("matrixArea").value.trim().split(/\r?\n/);
    const options=document.getElementById("optionsArea").value.trim().split(/\r?\n/);
    const correct=parseInt(document.getElementById("correctNum").value);

    renderGame(matrixRows, options, correct);
}

function renderGame(rows, opts, correct){
    const box=document.getElementById("gameBox");

    // –ú–∞—Ç—Ä–∏—Ü–∞ HTML
    let html=`<div class="matrix">`;
    rows.forEach(r=>{
        const parts=r.split("‚Üí").map(x=>x.trim());
        parts.forEach((p,i)=>{
            if(p==="???" || p==="?"){
                html+=`<div class="cell empty">?</div>`;
            } else {
                html+=`<div class="cell">${p}</div>`;
            }
        });
    });
    html+=`</div>`;

    // –û–ø—Ü–∏—è–ª–∞—Ä
    html+=`<div class="options">`;
    opts.forEach((op,i)=>{
        html+=`
            <div class="opt" data-i="${i+1}" onclick="chooseOption(${i+1}, ${correct}, this)">
                ${op}
            </div>
        `;
    });
    html+=`</div>`;

    html+=`<div id="finishBox"></div>`;

    box.innerHTML=html;
}

function chooseOption(i, correct, el){
    const finish=document.getElementById("finishBox");

    if(i===correct){
        el.classList.add("correct");
        finish.innerHTML=`<div class="finish">–î“±—Ä—ã—Å! –ñ–∞—Ä–∞–π—Å—ã“£! ‚úî</div>`;
    } else {
        el.classList.add("wrong");
        finish.innerHTML=`<div class="finish">“ö–∞—Ç–µ! “ö–∞–π—Ç–∞ –∫”©—Ä üòå</div>`;
    }
}
</script>

</body>
</html>
