<!DOCTYPE html>
<html lang="kk">
<head>
<meta charset="UTF-8">
<title>Coordinate Grid PRO – Координаттарды тап</title>
<style>
    body{
        margin:0;
        padding:20px;
        background:#eef2ff;
        font-family:system-ui,Arial;
        display:flex;
        justify-content:center;
    }
    .container{
        max-width:900px;
        width:100%;
        background:white;
        padding:24px 30px 28px;
        border-radius:18px;
        box-shadow:0 10px 25px rgba(0,0,0,0.2);
        box-sizing:border-box;
    }
    h1{
        text-align:center;
        color:#1e3a8a;
        font-size:26px;
        margin-bottom:14px;
    }
    label{
        font-size:14px;
        color:#4b5563;
    }
    input{
        width:100%;
        border-radius:12px;
        border:1px solid #cbd5ff;
        padding:8px 10px;
        font-size:14px;
        margin-bottom:10px;
        box-sizing:border-box;
    }
    button{
        border:none;
        border-radius:999px;
        padding:10px 22px;
        background:linear-gradient(135deg,#6366f1,#4f46e5);
        color:white;
        font-size:15px;
        cursor:pointer;
        margin-bottom:16px;
        box-shadow:0 4px 12px rgba(79,70,229,0.35);
    }

    .task{
        text-align:center;
        font-size:20px;
        font-weight:600;
        color:#1e40af;
        margin-top:10px;
        min-height:26px;
    }

    .grid-wrapper{
        margin-top:18px;
        overflow-x:auto;
    }

    table{
        border-collapse:collapse;
        margin:auto;
        background:#f9fafb;
        border-radius:12px;
        overflow:hidden;
    }
    th, td{
        border:1px solid #cbd5ff;
        text-align:center;
        width:48px;
        height:48px;
        box-sizing:border-box;
        font-size:16px;
    }
    th{
        background:#e5e7eb;
        font-weight:600;
        color:#374151;
    }
    td.cell{
        background:white;
        cursor:pointer;
        transition:0.12s;
    }
    td.cell:hover{
        background:#eef2ff;
    }
    td.correct{
        background:#22c55e !important;
        color:white;
    }
    td.wrong{
        background:#ef4444 !important;
        color:white;
    }

    .status{
        margin-top:12px;
        text-align:center;
        font-size:16px;
        color:#4b5563;
        min-height:22px;
    }
    .score{
        margin-top:8px;
        text-align:center;
        font-size:16px;
        font-weight:600;
        color:#1e3a8a;
    }

    .author{
        margin-top:24px;
        text-align:center;
        font-size:14px;
        color:#777;
    }
</style>
</head>
<body>

<div class="container">

    <h1>Coordinate Grid PRO – Координаттарды тап</h1>

    <label>Тор өлшемі (4–10):</label>
    <input id="gridSize" value="6">

    <button onclick="startGrid()">Ойынды бастау</button>

    <div id="taskBox" class="task"></div>

    <div class="grid-wrapper" id="gridBox"></div>

    <div id="statusBox" class="status"></div>
    <div id="scoreBox" class="score"></div>

    <div class="author">
        © Pedagogy Tools • Author: <b>Nazerke Kairatkyzy</b>
    </div>
</div>

<script>
let size = 6;
let targetCol = "";
let targetRow = 1;
let correctCount = 0;
let totalCount = 0;

function startGrid(){
    size = parseInt(document.getElementById("gridSize").value);
    if(isNaN(size) || size < 4 || size > 10){
        alert("Тор өлшемін 4 пен 10 аралығында енгізіңіз.");
        return;
    }
    correctCount = 0;
    totalCount = 0;

    renderGrid();
    nextTarget();
}

function renderGrid(){
    const box = document.getElementById("gridBox");
    let html = "<table>";

    // Бірінші жол – бағана әріптері
    html += "<tr><th></th>";
    for(let c=0; c<size; c++){
        const letter = String.fromCharCode(65 + c); // A, B, C...
        html += `<th>${letter}</th>`;
    }
    html += "</tr>";

    // Қалған жолдар – нөмір + ұяшықтар
    for(let r=1; r<=size; r++){
        html += `<tr><th>${r}</th>`;
        for(let c=0; c<size; c++){
            const letter = String.fromCharCode(65 + c);
            const id = letter + r;
            html += `<td class="cell" id="${id}" data-col="${letter}" data-row="${r}" onclick="clickCell('${id}')"></td>`;
        }
        html += "</tr>";
    }

    html += "</table>";
    box.innerHTML = html;

    document.getElementById("statusBox").textContent = "Ұяшықты басып, координатты таңда.";
    updateScore();
}

function nextTarget(){
    const colIndex = Math.floor(Math.random() * size);
    targetCol = String.fromCharCode(65 + colIndex);
    targetRow = 1 + Math.floor(Math.random() * size);

    const task = document.getElementById("taskBox");
    task.textContent = `Қай ұяшық: ${targetCol}${targetRow} ?`;
}

function clickCell(id){
    const cell = document.getElementById(id);
    const col = cell.getAttribute("data-col");
    const row = parseInt(cell.getAttribute("data-row"));
    const status = document.getElementById("statusBox");

    // алдыңғы түстерді тез өшіру
    document.querySelectorAll("td.cell").forEach(td=>{
        td.classList.remove("correct","wrong");
    });

    totalCount++;

    if(col === targetCol && row === targetRow){
        cell.classList.add("correct");
        status.textContent = "Дұрыс! ✔";
        correctCount++;
    } else {
        cell.classList.add("wrong");
        status.textContent = `Қате! Бұл ${col}${row}. Дұрыс жауап: ${targetCol}${targetRow}.`;
    }

    updateScore();

    setTimeout(()=>{
        nextTarget();
        document.querySelectorAll("td.cell").forEach(td=>{
            td.classList.remove("correct","wrong");
        });
    }, 900);
}

function updateScore(){
    const s = document.getElementById("scoreBox");
    s.textContent = `Дұрыс жауаптар: ${correctCount} / ${totalCount}`;
}
</script>

</body>
</html>
