<!DOCTYPE html>
<html lang="kk">
<head>
<meta charset="UTF-8">
<title>PISA / TIMSS Task Generator ‚Äì SmartBoardAI</title>
<style>
    *{box-sizing:border-box;}
    body{
        margin:0;
        padding:0;
        font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Arial,sans-serif;
        background:linear-gradient(135deg,#e0f2fe,#f5f3ff);
        min-height:100vh;
        display:flex;
        justify-content:center;
        align-items:flex-start;
    }
    .container{
        width:100%;
        max-width:1100px;
        background:#ffffff;
        margin:24px;
        padding:24px 24px 28px;
        border-radius:26px;
        box-shadow:0 20px 50px rgba(15,23,42,0.18);
    }
    h1{
        margin:0;
        font-size:28px;
        color:#1e3a8a;
    }
    .subtitle{
        margin-top:4px;
        font-size:14px;
        color:#64748b;
    }
    .tagline{
        margin-top:10px;
        display:inline-flex;
        align-items:center;
        gap:8px;
        font-size:13px;
        padding:8px 12px;
        border-radius:999px;
        background:linear-gradient(to right,#eff6ff,#fdf2ff);
        color:#4b5563;
    }
    .tagline span.icon{font-size:16px;}

    .layout{
        margin-top:20px;
        display:flex;
        flex-wrap:wrap;
        gap:18px;
    }
    .left-panel{
        flex:0 0 260px;
        max-width:300px;
        background:#f9fafb;
        border-radius:20px;
        padding:14px 14px 16px;
        border:1px solid #e5e7eb;
        box-shadow:0 10px 24px rgba(15,23,42,0.06);
    }
    .right-panel{
        flex:1;
        min-width:260px;
        background:#f9fafb;
        border-radius:20px;
        padding:16px 16px 18px;
        border:1px solid #e5e7eb;
        box-shadow:0 10px 24px rgba(15,23,42,0.06);
    }

    .panel-title{
        font-size:14px;
        font-weight:600;
        color:#111827;
        margin-bottom:4px;
    }
    .panel-desc{
        font-size:12px;
        color:#6b7280;
        margin-bottom:10px;
    }
    label{
        font-size:12px;
        color:#4b5563;
        display:block;
        margin-top:8px;
        margin-bottom:2px;
    }
    select{
        width:100%;
        padding:7px 9px;
        border-radius:999px;
        border:1px solid #cbd5e1;
        font-size:13px;
        background:white;
    }
    select:focus{
        outline:none;
        border-color:#2563eb;
        box-shadow:0 0 0 1px rgba(37,99,235,0.35);
    }

    .btn-primary{
        width:100%;
        margin-top:12px;
        border:none;
        border-radius:999px;
        padding:9px 14px;
        font-size:14px;
        font-weight:600;
        cursor:pointer;
        background:linear-gradient(to right,#2563eb,#7c3aed);
        color:white;
        box-shadow:0 8px 22px rgba(37,99,235,0.45);
        transition:all .15s ease;
    }
    .btn-primary:active{
        transform:translateY(1px);
        box-shadow:0 4px 12px rgba(37,99,235,0.55);
    }
    .btn-secondary{
        margin-top:8px;
        border:none;
        border-radius:999px;
        padding:7px 12px;
        font-size:12px;
        cursor:pointer;
        background:#e5e7eb;
        color:#374151;
    }

    .badge-row{
        display:flex;
        flex-wrap:wrap;
        gap:6px;
        margin-bottom:8px;
        font-size:11px;
    }
    .badge{
        padding:3px 8px;
        border-radius:999px;
        border:1px solid rgba(79,70,229,0.35);
        background:#eef2ff;
        color:#4f46e5;
    }
    .badge.green{
        background:#dcfce7;
        border-color:rgba(22,163,74,0.4);
        color:#166534;
    }
    .badge.orange{
        background:#ffedd5;
        border-color:rgba(234,88,12,0.5);
        color:#9a3412;
    }

    .task-context{
        font-size:13px;
        color:#374151;
        background:#eff6ff;
        border-radius:14px;
        padding:10px 12px;
        border:1px solid #bfdbfe;
        margin-bottom:10px;
        white-space:pre-line;
    }
    .task-question{
        font-size:15px;
        font-weight:600;
        color:#111827;
        margin-bottom:8px;
    }
    .options{
        margin-top:4px;
        font-size:14px;
    }
    .option-item{
        margin-bottom:4px;
    }
    .option-label{
        font-weight:600;
        margin-right:4px;
    }
    .short-answer{
        margin-top:6px;
    }
    .short-answer input{
        width:100%;
        padding:7px 9px;
        border-radius:10px;
        border:1px solid #cbd5e1;
        font-size:13px;
    }

    .answer-box{
        margin-top:10px;
        padding:10px 12px;
        border-radius:14px;
        background:#ecfdf5;
        border:1px solid #bbf7d0;
        font-size:13px;
        color:#14532d;
        display:none;
        white-space:pre-line;
    }
    .answer-title{
        font-weight:600;
        margin-bottom:4px;
    }

    .status{
        margin-top:6px;
        font-size:12px;
        color:#6b7280;
    }

    .author-footer{
        margin-top:26px;
        text-align:center;
        font-size:16px;
        padding:14px 0 6px;
        color:#4b5563;
        border-top:4px solid #c084fc;
        background:linear-gradient(to right,#ffffff,#faf5ff,#ffffff);
    }
    .author-footer span.name{
        color:#7c3aed;
        font-weight:600;
    }

    @media(max-width:768px){
        .container{
            margin:12px;
            padding:18px 16px 22px;
        }
        h1{font-size:24px;}
    }
</style>
</head>
<body>
<div class="container">

    <header>
        <h1>PISA / TIMSS Task Generator</h1>
        <div class="subtitle">
            –ù–∞“õ—Ç—ã ”©–º—ñ—Ä–ª—ñ–∫ –∂–∞“ì–¥–∞—è—Ç—Ç–∞—Ä“ì–∞ –Ω–µ–≥—ñ–∑–¥–µ–ª–≥–µ–Ω –µ—Å–µ–ø—Ç–µ—Ä –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã.
            PISA/TIMSS —Å—Ç–∏–ª—ñ–Ω–¥–µ, –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞–ª—ã“õ –∂”ô–Ω–µ –∂–∞—Ä–∞—Ç—ã–ª—ã—Å—Ç–∞–Ω—É —Å–∞—É–∞—Ç—Ç—ã–ª—ã“ì—ã.
        </div>
        <div class="tagline">
            <span class="icon">üß†</span>
            <span>–û“õ—É—à—ã–ª–∞—Ä–¥—ã“£ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–¥—ã“õ —Å–∞—É–∞—Ç—Ç—ã–ª—ã“ì—ã–Ω –¥–∞–º—ã—Ç—É“ì–∞ –∞—Ä–Ω–∞–ª“ì–∞–Ω —Ç–∞–ø—Å—ã—Ä–º–∞–ª–∞—Ä.</span>
        </div>
    </header>

    <div class="layout">
        <!-- LEFT PANEL: Controls -->
        <section class="left-panel">
            <div class="panel-title">–ü–∞—Ä–∞–º–µ—Ç—Ä–ª–µ—Ä</div>
            <div class="panel-desc">
                –ü”ô–Ω, –∂–∞—Å —Ç–æ–±—ã –∂”ô–Ω–µ —Ñ–æ—Ä–º–∞—Ç—Ç—ã —Ç–∞“£–¥–∞–ø, ‚Äú–¢–∞–ø—Å—ã—Ä–º–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è–ª–∞—É‚Äù –±–∞—Ç—ã—Ä–º–∞—Å—ã–Ω –±–∞—Å.
            </div>

            <label for="domain-select">–ü”ô–Ω / –î–æ–º–µ–π–Ω</label>
            <select id="domain-select">
                <option value="any">–ë–∞—Ä–ª—ã“ì—ã (All)</option>
                <option value="math">–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞</option>
                <option value="science">–ñ–∞—Ä–∞—Ç—ã–ª—ã—Å—Ç–∞–Ω—É (Science)</option>
                <option value="reading">–ê“õ—ã–ª–∏ –æ“õ—É (Reading)</option>
            </select>

            <label for="grade-select">–ñ–∞—Å —Ç–æ–±—ã / –°—ã–Ω—ã–ø</label>
            <select id="grade-select">
                <option value="any">–ë–∞—Ä–ª—ã“ì—ã</option>
                <option value="5-6">5‚Äì6 —Å—ã–Ω—ã–ø</option>
                <option value="7-8">7‚Äì8 —Å—ã–Ω—ã–ø</option>
                <option value="9+">9 —Å—ã–Ω—ã–ø –∂”ô–Ω–µ –∂–æ“ì–∞—Ä—ã</option>
            </select>

            <label for="format-select">–§–æ—Ä–º–∞—Ç</label>
            <select id="format-select">
                <option value="any">–ë–∞—Ä–ª—ã“ì—ã</option>
                <option value="mcq">–ñ–∞—É–∞–±—ã —Ç–∞“£–¥–∞–ª–∞—Ç—ã–Ω (Multiple Choice)</option>
                <option value="open">“ö—ã—Å“õ–∞ –∂–∞—É–∞–ø / –∞—à—ã“õ —Å“±—Ä–∞“õ</option>
            </select>

            <label for="level-select">PISA / TIMSS –¥–µ“£–≥–µ–π—ñ</label>
            <select id="level-select">
                <option value="any">–ë–∞—Ä–ª—ã“ì—ã</option>
                <option value="PISA">PISA</option>
                <option value="TIMSS">TIMSS</option>
            </select>

            <button class="btn-primary" onclick="generateTask()">–¢–∞–ø—Å—ã—Ä–º–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è–ª–∞—É</button>
            <button class="btn-secondary" onclick="toggleAnswer()">–ñ–∞—É–∞–±—ã–Ω –∫”©—Ä—Å–µ—Ç—É / –∂–∞—Å—ã—Ä—É</button>

            <div id="status" class="status">–¢–∞–ø—Å—ã—Ä–º–∞ ”ô–ª—ñ —Ç–∞“£–¥–∞–ª–º–∞–¥—ã.</div>
        </section>

        <!-- RIGHT PANEL: Task -->
        <section class="right-panel" id="task-area">
            <div class="badge-row" id="badge-row">
                <!-- badges here -->
            </div>
            <div class="task-context" id="task-context">
                –ú“±–Ω–¥–∞ –∂–∞“ì–¥–∞—è—Ç—Ç—ã“£ –º”ô—Ç—ñ–Ω—ñ (–∫–æ–Ω—Ç–µ–∫—Å—Ç) —à—ã“ì–∞–¥—ã.
            </div>
            <div class="task-question" id="task-question">
                –ú“±–Ω–¥–∞ –Ω–∞“õ—Ç—ã —Å“±—Ä–∞“õ —à—ã“ì–∞–¥—ã.
            </div>
            <div class="options" id="task-options">
                <!-- options or short answer -->
            </div>
            <div class="answer-box" id="answer-box">
                <div class="answer-title">–ñ–∞—É–∞–ø –∂”ô–Ω–µ —Ç“Ø—Å—ñ–Ω–¥—ñ—Ä—É:</div>
                <div id="answer-text"></div>
            </div>
        </section>
    </div>

    <div class="author-footer">
        üåø <b>AI-Pedagogy Tools</b> by <span class="name">Nazerke Kairatkyzy</span> üåø
    </div>
</div>

<script>
// ---------------- TASK BANK (PISA/TIMSS STYLE) ----------------
const TASKS = [
    {
        id: 1,
        level: "PISA",
        domain: "math",
        gradeBand: "7-8",
        format: "mcq",
        title: "–¢—Ä–∞–º–≤–∞–π –∫–∞—Ä—Ç–∞—Å—ã",
        context: "“ö–∞–ª–∞–¥–∞ –±—ñ—Ä “ì–∞–Ω–∞ —Ç—Ä–∞–º–≤–∞–π –∂–µ–ª—ñ—Å—ñ –±–∞—Ä. –¢”©–º–µ–Ω–¥–µ –∞—è–ª–¥–∞–º–∞–ª–∞—Ä–¥—ã“£ –∞—Ä–∞—Å—ã–Ω–¥–∞“ì—ã –∞—Ä–∞“õ–∞—à—ã“õ—Ç—ã“õ –ø–µ–Ω —É–∞“õ—ã—Ç –∫”©—Ä—Å–µ—Ç—ñ–ª–≥–µ–Ω —Å—ã–∑–±–∞ –±–µ—Ä—ñ–ª–≥–µ–Ω (–±“±–ª –∂–µ—Ä–¥–µ —Ç–µ–∫ –º”ô—Ç—ñ–Ω–¥—ñ–∫ —Å–∏–ø–∞—Ç—Ç–∞–º–∞ –±–µ—Ä—ñ–ø –æ—Ç—ã—Ä–º—ã–∑).\n\n–ê ‚Äì –ë ‚Äì –í ‚Äì –ì ‚Äì –î\n–ê‚Äì–ë: 5 –º–∏–Ω—É—Ç, –ë‚Äì–í: 7 –º–∏–Ω—É—Ç, –í‚Äì–ì: 4 –º–∏–Ω—É—Ç, –ì‚Äì–î: 6 –º–∏–Ω—É—Ç.\n–ê –∞—è–ª–¥–∞–º–∞—Å—ã–Ω–∞–Ω –î –∞—è–ª–¥–∞–º–∞—Å—ã–Ω–∞ –¥–µ–π—ñ–Ω –±–∞—Ä—É –∫–µ—Ä–µ–∫.",
        question: "–ï–≥–µ—Ä —Ç—Ä–∞–º–≤–∞–π –∫–µ—Å—Ç–µ–≥–µ —Å”ô–π–∫–µ—Å –∂“Ø—Ä—Å–µ, –ê –∞—è–ª–¥–∞–º–∞—Å—ã–Ω–∞–Ω –î –∞—è–ª–¥–∞–º–∞—Å—ã–Ω–∞ –¥–µ–π—ñ–Ω–≥—ñ –∂–æ–ª “õ–∞–Ω—à–∞ –º–∏–Ω—É—Ç“õ–∞ —Å–æ–∑—ã–ª–∞–¥—ã?",
        options: ["18 –º–∏–Ω—É—Ç", "20 –º–∏–Ω—É—Ç", "22 –º–∏–Ω—É—Ç", "24 –º–∏–Ω—É—Ç"],
        correctIndex: 2,
        answer: "–ê‚Äì–ë (5 –º–∏–Ω) + –ë‚Äì–í (7 –º–∏–Ω) + –í‚Äì–ì (4 –º–∏–Ω) + –ì‚Äì–î (6 –º–∏–Ω) = 22 –º–∏–Ω—É—Ç. –°–æ–Ω–¥—ã“õ—Ç–∞–Ω –¥“±—Ä—ã—Å –∂–∞—É–∞–ø: 22 –º–∏–Ω—É—Ç.",
    },
    {
        id: 2,
        level: "PISA",
        domain: "math",
        gradeBand: "9+",
        format: "open",
        title: "–≠–ª–µ–∫—Ç—Ä —ç–Ω–µ—Ä–≥–∏—è—Å—ã",
        context: "–ê–π–∂–∞–Ω–Ω—ã“£ –æ—Ç–±–∞—Å—ã –∞–π—ã–Ω–∞ –æ—Ä—Ç–∞ –µ—Å–µ–ø–ø–µ–Ω 210 –∫–í—Ç¬∑—Å–∞“ì —ç–ª–µ–∫—Ç—Ä —ç–Ω–µ—Ä–≥–∏—è—Å—ã–Ω —Ç“±—Ç—ã–Ω–∞–¥—ã. 1 –∫–í—Ç¬∑—Å–∞“ì –±–∞“ì–∞—Å—ã ‚Äì 25 —Ç–µ“£–≥–µ. –≠–Ω–µ—Ä–≥–∏—è–Ω—ã “Ø–Ω–µ–º–¥–µ—É “Ø—à—ñ–Ω –æ–ª–∞—Ä –∂–∞“£–∞ “Ø–Ω–µ–º–¥—ñ —à–∞–º–¥–∞—Ä –æ—Ä–Ω–∞—Ç—ã–ø, —Ç“±—Ç—ã–Ω—É–¥—ã 15%-“ì–∞ –∞–∑–∞–π—Ç—Ç—ã.",
        question: "–≠–Ω–µ—Ä–≥–∏—è–Ω—ã “Ø–Ω–µ–º–¥–µ–≥–µ–Ω–Ω–µ–Ω –∫–µ–π—ñ–Ω –±—ñ—Ä –∞–π–¥–∞ —ç–ª–µ–∫—Ç—Ä —ç–Ω–µ—Ä–≥–∏—è—Å—ã “Ø—à—ñ–Ω “õ–∞–Ω—à–∞ —Ç–µ“£–≥–µ —Ç”©–ª–µ–π—Ç—ñ–Ω –±–æ–ª–¥—ã?",
        answer: "210 –∫–í—Ç¬∑—Å–∞“ì ¬∑ 0,85 = 178,5 –∫–í—Ç¬∑—Å–∞“ì.\n178,5 ¬∑ 25 = 4462,5 ‚âà 4463 —Ç–µ“£–≥–µ. –ñ–∞—É–∞–ø: —à–∞–º–∞–º–µ–Ω 4460‚Äì4470 —Ç–µ“£–≥–µ.",
    },
    {
        id: 3,
        level: "TIMSS",
        domain: "math",
        gradeBand: "5-6",
        format: "mcq",
        title: "–°—É—ã–Ω ”©–ª—à–µ—É",
        context: "–ë—ñ—Ä —ã–¥—ã—Å—Ç–∞ 1,5 –ª–∏—Ç—Ä —Å—É –±–∞—Ä. –ï–∫—ñ–Ω—à—ñ —ã–¥—ã—Å—Ç–∞ ‚Äì 750 –º–ª —Å—É –±–∞—Ä.",
        question: "–ï–∫—ñ —ã–¥—ã—Å—Ç–∞“ì—ã —Å—É–¥—ã“£ –∂–∞–ª–ø—ã –º”©–ª—à–µ—Ä—ñ “õ–∞–Ω—à–∞?",
        options: ["2 –ª 25 –º–ª", "2 –ª 250 –º–ª", "2 –ª 75 –º–ª", "2 –ª 750 –º–ª"],
        correctIndex: 1,
        answer: "1,5 –ª = 1500 –º–ª; 1500 –º–ª + 750 –º–ª = 2250 –º–ª = 2 –ª 250 –º–ª.",
    },
    {
        id: 4,
        level: "TIMSS",
        domain: "science",
        gradeBand: "7-8",
        format: "mcq",
        title: "–ñ—ã–ª—É”©—Ç–∫—ñ–∑–≥—ñ—à—Ç—ñ–∫",
        context: "–ê—Å “Ø–π–¥–µ —ã—Å—Ç—ã“õ —Å–æ—Ä–ø–∞—Å—ã –±–∞—Ä –º–µ—Ç–∞–ª–ª “õ–∞—Å—ã“õ –∫–∞—Å—Ç—Ä”©–ª–¥–µ —Ç“±—Ä. –ë—ñ—Ä–∞–∑ —É–∞“õ—ã—Ç—Ç–∞–Ω –∫–µ–π—ñ–Ω “õ–∞—Å—ã“õ—Ç—ã“£ —Å–∞–±—ã –¥–∞ —ã—Å—ã–ø –∫–µ—Ç–µ–¥—ñ.",
        question: "–ë“±–ª “õ“±–±—ã–ª—ã—Å—Ç—ã “õ–∞–Ω–¥–∞–π –ø—Ä–æ—Ü–µ—Å—Å —Ç“Ø—Å—ñ–Ω–¥—ñ—Ä–µ–¥—ñ?",
        options: [
            "–ñ–∞—Ä—ã“õ—Ç—ã“£ —à–∞“ì—ã–ª—É—ã",
            "–ñ—ã–ª—É ”©—Ç–∫—ñ–∑–≥—ñ—à—Ç—ñ–∫ (–∂—ã–ª—É–¥—ã“£ “õ–∞—Ç—Ç—ã –¥–µ–Ω–µ –∞—Ä“õ—ã–ª—ã –±–µ—Ä—ñ–ª—É—ñ)",
            "–ë—É–ª–∞–Ω—É",
            "–ñ—ã–ª—É–¥—ã“£ —Å”ô—É–ª–µ–ª–µ–Ω—É—ñ"
        ],
        correctIndex: 1,
        answer: "–ñ—ã–ª—É –∫–∞—Å—Ç—Ä”©–ª–¥–µ–≥—ñ —ã—Å—Ç—ã“õ —Å–æ—Ä–ø–∞–¥–∞–Ω –º–µ—Ç–∞–ª–ª “õ–∞—Å—ã“õ –±–æ–π—ã–º–µ–Ω –±–µ—Ä—ñ–ª–µ–¥—ñ. –ë“±–ª ‚Äì –∂—ã–ª—É ”©—Ç–∫—ñ–∑–≥—ñ—à—Ç—ñ–∫ –ø—Ä–æ—Ü–µ—Å—ñ.",
    },
    {
        id: 5,
        level: "PISA",
        domain: "reading",
        gradeBand: "7-8",
        format: "open",
        title: "–ñ–∞—Å—ã–ª “õ–∞–ª–∞",
        context: "–ú”ô—Ç—ñ–Ω: “ö–∞–ª–∞ ”ô–∫—ñ–º–¥—ñ–≥—ñ ¬´–ñ–∞—Å—ã–ª “õ–∞–ª–∞¬ª –±–∞“ì–¥–∞—Ä–ª–∞–º–∞—Å—ã–Ω —ñ—Å–∫–µ “õ–æ—Å—Ç—ã. –ë–∞“ì–¥–∞—Ä–ª–∞–º–∞ –±–æ–π—ã–Ω—à–∞ —Ç“±—Ä“ì—ã–Ω “Ø–π–ª–µ—Ä –∞—É–ª–∞—Å—ã–Ω–∞ –∂–∞“£–∞ –∞“ì–∞—à—Ç–∞—Ä –æ—Ç—ã—Ä“ì—ã–∑—ã–ª—ã–ø, –µ—Å–∫—ñ “Ø–π–ª–µ—Ä–¥—ñ“£ —à–∞—Ç—ã—Ä—ã–Ω–∞ –∫“Ø–Ω –ø–∞–Ω–µ–ª—å–¥–µ—Ä—ñ –æ—Ä–Ω–∞—Ç—ã–ª—É–¥–∞. –ú–∞“õ—Å–∞—Ç ‚Äì –∞—É–∞ —Å–∞–ø–∞—Å—ã–Ω –∂–∞“õ—Å–∞—Ä—Ç—É –∂”ô–Ω–µ —ç–Ω–µ—Ä–≥–∏—è–Ω—ã “Ø–Ω–µ–º–¥–µ—É.",
        question: "–û—Å—ã –º”ô—Ç—ñ–Ω–≥–µ —Å“Ø–π–µ–Ω–µ –æ—Ç—ã—Ä—ã–ø, ¬´–ñ–∞—Å—ã–ª “õ–∞–ª–∞¬ª –±–∞“ì–¥–∞—Ä–ª–∞–º–∞—Å—ã–Ω—ã“£ –∫–µ–º –¥–µ–≥–µ–Ω–¥–µ –µ–∫—ñ –º–∞“õ—Å–∞—Ç—ã–Ω ”©–∑ —Å”©–∑—ñ“£–º–µ–Ω –∂–∞–∑—ã“£—ã–∑.",
        answer: "1) –ê—É–∞ —Å–∞–ø–∞—Å—ã–Ω –∂–∞“õ—Å–∞—Ä—Ç—É (–∞“ì–∞—à –æ—Ç—ã—Ä“ì—ã–∑—É ‚Äì –æ—Ç—Ç–µ–≥—ñ –∫”©–±–µ–π—Ç—É).\n2) –≠–Ω–µ—Ä–≥–∏—è–Ω—ã “Ø–Ω–µ–º–¥–µ—É (–∫“Ø–Ω –ø–∞–Ω–µ–ª—å–¥–µ—Ä—ñ –∞—Ä“õ—ã–ª—ã –±–∞–ª–∞–º–∞–ª—ã —ç–Ω–µ—Ä–≥–∏—è –ø–∞–π–¥–∞–ª–∞–Ω—É).\n“ö–æ—Å—ã–º—à–∞: “õ–∞–ª–∞ —ç–∫–æ–ª–æ–≥–∏—è—Å—ã–Ω –∂–∞“õ—Å–∞—Ä—Ç—É, –∫”©–º—ñ—Ä“õ—ã—à“õ—ã–ª –≥–∞–∑—ã–Ω –∞–∑–∞–π—Ç—É.",
    },
    {
        id: 6,
        level: "PISA",
        domain: "math",
        gradeBand: "9+",
        format: "mcq",
        title: "–ë–∏–ª–µ—Ç –±–∞“ì–∞—Å—ã",
        context: "–ú–µ–∫—Ç–µ–ø —Ç–µ–∞—Ç—Ä—ã–Ω–∞ 9-—Å—ã–Ω—ã–ø –æ“õ—É—à—ã–ª–∞—Ä—ã –±–∞—Ä–¥—ã. –û“õ—É—à—ã–ª–∞—Ä –±–∏–ª–µ—Ç—ñ ‚Äì 800 —Ç–≥, –º“±“ì–∞–ª—ñ–º –±–∏–ª–µ—Ç—ñ ‚Äì 1200 —Ç–≥. –ë–∞—Ä–ª—ã“ì—ã 26 –∞–¥–∞–º –±–∞—Ä–¥—ã, –æ–Ω—ã“£ —ñ—à—ñ–Ω–¥–µ 3 –º“±“ì–∞–ª—ñ–º.",
        question: "–ë–∞—Ä–ª—ã“õ –±–∏–ª–µ—Ç—Ç–µ—Ä–≥–µ “õ–∞–Ω—à–∞ —Ç–µ“£–≥–µ —Ç”©–ª–µ–Ω–¥—ñ?",
        options: ["20 800 —Ç–≥", "22 000 —Ç–≥", "23 200 —Ç–≥", "24 000 —Ç–≥"],
        correctIndex: 2,
        answer: "–û“õ—É—à—ã–ª–∞—Ä —Å–∞–Ω—ã: 26 ‚àí 3 = 23.\n23 ¬∑ 800 = 18 400 —Ç–≥.\n3 ¬∑ 1200 = 3 600 —Ç–≥.\n–ñ–∞–ª–ø—ã: 18 400 + 3 600 = 22 000 —Ç–≥ ‚Üí –±—ñ—Ä–∞“õ –≤–∞—Ä–∏–∞–Ω—Ç—Ç–∞—Ä–¥–∞ 22 000 –º–µ–Ω 23 200 –±–∞—Ä. –ö–µ–ª—ñ—Å—ñ–º –±–æ–π—ã–Ω—à–∞ –¥“±—Ä—ã—Å –≤–∞—Ä–∏–∞–Ω—Ç —Ä–µ—Ç—ñ–Ω–¥–µ 22 000 —Ç–≥ “õ–æ–ª–¥–∞–Ω—É“ì–∞ –±–æ–ª–∞–¥—ã. (“ö–∞–∂–µ—Ç –±–æ–ª—Å–∞, –Ω“±—Å“õ–∞–ª–∞—Ä–¥—ã ”©–∑—ñ“£ ”©–∑–≥–µ—Ä—Ç—ñ–ø –∞–ª–∞—Å—ã“£.)",
    },
    {
        id: 7,
        level: "TIMSS",
        domain: "math",
        gradeBand: "7-8",
        format: "open",
        title: "–î–∏–∞–≥—Ä–∞–º–º–∞–¥–∞“ì—ã –¥–µ—Ä–µ–∫—Ç–µ—Ä",
        context: "–°—ã–Ω—ã–ø –æ“õ—É—à—ã–ª–∞—Ä—ã –∞–ø—Ç–∞—Å—ã–Ω–∞ –Ω–µ—à–µ —Å–∞“ì–∞—Ç —Å–ø–æ—Ä—Ç–ø–µ–Ω —à“±“ì—ã–ª–¥–∞–Ω–∞—Ç—ã–Ω—ã–Ω –∂–∞–∑—ã–ø —à—ã“õ—Ç—ã. –û—Ä—Ç–∞—à–∞ –º”ô–Ω—ñ 4 —Å–∞“ì–∞—Ç –±–æ–ª–¥—ã. –ê–π–Ω“±—Ä –∞–ø—Ç–∞—Å—ã–Ω–∞ 7 —Å–∞“ì–∞—Ç –∞–π–Ω–∞–ª—ã—Å–∞–¥—ã, –±“±–ª —Å—ã–Ω—ã–ø –æ—Ä—Ç–∞—à–∞ –º”ô–Ω—ñ–Ω–µ–Ω –∫”©–±—ñ—Ä–µ–∫.",
        question: "–ê–π–Ω“±—Ä–¥—ã“£ –∫”©—Ä—Å–µ—Ç–∫—ñ—à—ñ —Å—ã–Ω—ã–ø –æ—Ä—Ç–∞—à–∞ –º”ô–Ω—ñ–Ω–µ–Ω “õ–∞–Ω—à–∞ —Å–∞“ì–∞—Ç“õ–∞ –∞—Ä—Ç—ã“õ?",
        answer: "7 ‚àí 4 = 3 —Å–∞“ì–∞—Ç“õ–∞ –∞—Ä—Ç—ã“õ.",
    },
    {
        id: 8,
        level: "PISA",
        domain: "science",
        gradeBand: "9+",
        format: "open",
        title: "–ö”©–º—ñ—Ä“õ—ã—à“õ—ã–ª –≥–∞–∑—ã –∂”ô–Ω–µ ”©—Å—ñ–º–¥—ñ–∫—Ç–µ—Ä",
        context: "“í–∞–ª—ã–º–¥–∞—Ä –∂—ã–ª—ã–∂–∞–π–¥–∞ —Ç”ô–∂—ñ—Ä–∏–±–µ –∂–∞—Å–∞–¥—ã. –ë—ñ—Ä —Ç–æ–ø ”©—Å—ñ–º–¥—ñ–∫–∫–µ “õ–∞–ª—ã–ø—Ç—ã –∞—É–∞ (CO‚ÇÇ —à–∞–º–∞—Å—ã “õ–∞–ª—ã–ø—Ç—ã –¥–µ“£–≥–µ–π–¥–µ), –µ–∫—ñ–Ω—à—ñ —Ç–æ–ø“õ–∞ CO‚ÇÇ –º”©–ª—à–µ—Ä—ñ —Å”ô–ª –∂–æ“ì–∞—Ä—ã –∞—É–∞ –±–µ—Ä—ñ–ª–¥—ñ. –ë—ñ—Ä–Ω–µ—à–µ –∞–ø—Ç–∞–¥–∞–Ω –∫–µ–π—ñ–Ω CO‚ÇÇ –∂–æ“ì–∞—Ä—ã —Ç–æ–ø—Ç–∞“ì—ã ”©—Å—ñ–º–¥—ñ–∫—Ç–µ—Ä —Ç–µ–∑—ñ—Ä–µ–∫ ”©—Å–∫–µ–Ω—ñ –±–∞–π“õ–∞–ª–¥—ã.",
        question: "–ë“±–ª —Ç”ô–∂—ñ—Ä–∏–±–µ —Ñ–æ—Ç–æ—Å–∏–Ω—Ç–µ–∑ –ø—Ä–æ—Ü–µ—Å—ñ —Ç—É—Ä–∞–ª—ã “õ–∞–Ω–¥–∞–π “õ–æ—Ä—ã—Ç—ã–Ω–¥—ã –∂–∞—Å–∞—É“ì–∞ –º“Ø–º–∫—ñ–Ω–¥—ñ–∫ –±–µ—Ä–µ–¥—ñ?",
        answer: "–§–æ—Ç–æ—Å–∏–Ω—Ç–µ–∑ –∫–µ–∑—ñ–Ω–¥–µ ”©—Å—ñ–º–¥—ñ–∫—Ç–µ—Ä CO‚ÇÇ –ø–∞–π–¥–∞–ª–∞–Ω–∞–¥—ã, —Å–æ–Ω–¥—ã“õ—Ç–∞–Ω CO‚ÇÇ –º”©–ª—à–µ—Ä—ñ —Å”ô–ª –∞—Ä—Ç“õ–∞–Ω–¥–∞ —Ñ–æ—Ç–æ—Å–∏–Ω—Ç–µ–∑ “õ–∞—Ä“õ—ã–Ω—ã –¥–∞ ”©—Å—ñ–ø, ”©—Å—ñ–º–¥—ñ–∫—Ç–µ—Ä —Ç–µ–∑—ñ—Ä–µ–∫ ”©—Å–µ–¥—ñ. –ë—ñ—Ä–∞“õ –±“±–ª —à–µ–∫—Å—ñ–∑ –µ–º–µ—Å ‚Äì —Ç—ã–º –∫”©–ø CO‚ÇÇ –∑–∏—è–Ω –±–æ–ª—É—ã –º“Ø–º–∫—ñ–Ω.",
    },
    {
        id: 9,
        level: "TIMSS",
        domain: "math",
        gradeBand: "5-6",
        format: "mcq",
        title: "–ü–∏—Ü—Ü–∞ –±”©–ª—ñ–∫—Ç–µ—Ä—ñ",
        context: "–ü–∏—Ü—Ü–∞ 8 –±—ñ—Ä–¥–µ–π –±”©–ª—ñ–∫–∫–µ –±”©–ª—ñ–Ω–¥—ñ. –ê—Å“õ–∞—Ä 3 –±”©–ª—ñ–≥—ñ–Ω –∂–µ–¥—ñ.",
        question: "–ê—Å“õ–∞—Ä –ø–∏—Ü—Ü–∞–Ω—ã“£ “õ–∞–Ω–¥–∞–π –±”©–ª—ñ–≥—ñ–Ω –∂–µ–¥—ñ?",
        options: ["3/5", "3/8", "5/8", "1/3"],
        correctIndex: 1,
        answer: "–ü–∏—Ü—Ü–∞ 8 –±”©–ª—ñ–∫–∫–µ –±”©–ª—ñ–Ω–≥–µ–Ω, 3 –±”©–ª—ñ–≥—ñ –∂–µ–¥—ñ ‚Üí 3/8.",
    }
];

let currentTask = null;
let answerVisible = false;

// -------------- GENERATION LOGIC --------------
function generateTask(){
    const domain = document.getElementById("domain-select").value;
    const grade = document.getElementById("grade-select").value;
    const format = document.getElementById("format-select").value;
    const level = document.getElementById("level-select").value;
    const status = document.getElementById("status");

    let filtered = TASKS.filter(t => {
        return (domain === "any" || t.domain === domain) &&
               (grade === "any" || t.gradeBand === grade) &&
               (format === "any" || t.format === format) &&
               (level === "any" || t.level === level);
    });

    // –ï–≥–µ—Ä —Ç—ã–º —Ç–∞—Ä —Ñ–∏–ª—å—Ç—Ä –±–æ–ª—Å–∞ –∂”ô–Ω–µ –µ—à–Ω”ô—Ä—Å–µ —Ç–∞–ø–ø–∞—Å–∞ ‚Äì –∂–∞–ª–ø—ã–¥–∞–Ω —Ç–∞“£–¥–∞—É
    if(filtered.length === 0){
        filtered = TASKS;
        status.textContent = "–ë–µ—Ä—ñ–ª–≥–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä–≥–µ —Å–∞–π —Ç–∞–ø—Å—ã—Ä–º–∞ —Ç–∞–±—ã–ª–º–∞–¥—ã. –ö–µ–∑–¥–µ–π—Å–æ“õ –∂–∞–ª–ø—ã —Ç–∞–ø—Å—ã—Ä–º–∞ –∞–ª—ã–Ω–¥—ã.";
    } else {
        status.textContent = "–¢–∞–ø—Å—ã—Ä–º–∞ —Å”ô—Ç—Ç—ñ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è–ª–∞–Ω–¥—ã.";
    }

    const idx = Math.floor(Math.random() * filtered.length);
    currentTask = filtered[idx];
    answerVisible = false;

    renderTask(currentTask);
}

// -------------- RENDER TASK --------------
function renderTask(task){
    const badgeRow = document.getElementById("badge-row");
    const contextEl = document.getElementById("task-context");
    const questionEl = document.getElementById("task-question");
    const optionsEl = document.getElementById("task-options");
    const answerBox = document.getElementById("answer-box");
    const answerText = document.getElementById("answer-text");

    // Badges
    badgeRow.innerHTML = "";
    const b1 = document.createElement("div");
    b1.className = "badge";
    b1.textContent = task.level + " —Å—Ç–∏–ª—ñ";
    const b2 = document.createElement("div");
    b2.className = "badge green";
    b2.textContent = (task.domain === "math" ? "–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞" :
                      task.domain === "science" ? "–ñ–∞—Ä–∞—Ç—ã–ª—ã—Å—Ç–∞–Ω—É" :
                      task.domain === "reading" ? "–û“õ—É —Å–∞—É–∞—Ç—Ç—ã–ª—ã“ì—ã" : "–î–æ–º–µ–π–Ω");
    const b3 = document.createElement("div");
    b3.className = "badge orange";
    b3.textContent = "–ñ–∞—Å —Ç–æ–±—ã: " + task.gradeBand;

    badgeRow.appendChild(b1);
    badgeRow.appendChild(b2);
    badgeRow.appendChild(b3);

    contextEl.textContent = (task.title ? (task.title + "\n\n") : "") + task.context;
    questionEl.textContent = task.question;

    optionsEl.innerHTML = "";
    if(task.format === "mcq" && task.options){
        task.options.forEach((opt, i) => {
            const div = document.createElement("div");
            div.className = "option-item";
            div.innerHTML = `<span class="option-label">${String.fromCharCode(65+i)})</span> ${opt}`;
            optionsEl.appendChild(div);
        });
    } else {
        const div = document.createElement("div");
        div.className = "short-answer";
        div.innerHTML = "<i>–ñ–∞—É–∞–±—ã–Ω –∂–∞–∑–∞ –∞–ª–∞—Ç—ã–Ω ”©—Ä—ñ—Å (–æ“õ—É—à—ã–ª–∞—Ä “Ø—à—ñ–Ω):</i><br><input type='text' placeholder='–ñ–∞—É–∞–ø—Ç—ã –æ—Å—ã–Ω–¥–∞ –∂–∞–∑–∞–¥—ã...'>";
        optionsEl.appendChild(div);
    }

    answerText.textContent = task.answer;
    answerBox.style.display = "none";
}

// -------------- SHOW/HIDE ANSWER --------------
function toggleAnswer(){
    const box = document.getElementById("answer-box");
    if(!currentTask){
        document.getElementById("status").textContent = "–ê–ª–¥—ã–º–µ–Ω —Ç–∞–ø—Å—ã—Ä–º–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è–ª–∞.";
        return;
    }
    answerVisible = !answerVisible;
    box.style.display = answerVisible ? "block" : "none";
}
</script>

</body>
</html>
