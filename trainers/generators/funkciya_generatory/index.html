<!DOCTYPE html>
<html lang="kk">
<head>
<meta charset="UTF-8">
<title>–§—É–Ω–∫—Ü–∏—è –≥—Ä–∞—Ñ–∏–∫ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã</title>

<style>
body{
    font-family:Arial;
    background:#eef2ff;
    padding:20px;
}
.container{
    max-width:900px;
    margin:auto;
    background:white;
    padding:28px;
    border-radius:20px;
    box-shadow:0 10px 25px rgba(0,0,0,0.18);
}
h2{
    text-align:center;
    color:#3730a3;
    font-size:28px;
}

.input-box{
    margin-top:20px;
    display:flex;
    gap:10px;
    justify-content:center;
}
input{
    width:70%;
    padding:12px;
    font-size:18px;
    border:2px solid #818cf8;
    border-radius:10px;
}
button{
    padding:12px 20px;
    font-size:18px;
    color:white;
    background:#4f46e5;
    border:none;
    border-radius:10px;
    cursor:pointer;
}
button:hover{
    background:#4338ca;
}

canvas{
    margin-top:24px;
    background:#fafafa;
    border:2px solid #818cf8;
    border-radius:12px;
}

.error{
    margin-top:10px;
    text-align:center;
    font-size:18px;
    color:#dc2626;
    font-weight:bold;
}
</style>
</head>

<body>

<div class="container">

<h2>üìà –§—É–Ω–∫—Ü–∏—è –≥—Ä–∞—Ñ–∏–∫ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã</h2>

<div class="input-box">
    <input id="funcInput" type="text" placeholder="–ú—ã—Å–∞–ª—ã: sin(x), x**2-3*x+2, 1/(x-2)">
    <button onclick="draw()">–°–∞–ª—É</button>
</div>

<div id="error" class="error"></div>

<canvas id="graph" width="800" height="500"></canvas>

</div>

<script>
function draw(){
    const expr = document.getElementById("funcInput").value;
    const errorBox = document.getElementById("error");
    errorBox.textContent="";

    let f;
    try{
        f = new Function("x", "return " + expr);
        f(0); // —Ñ—É–Ω–∫—Ü–∏—è–Ω—ã —Ç–µ–∫—Å–µ—Ä—É
    }catch(e){
        errorBox.textContent="“ö–∞—Ç–µ: —Ñ—É–Ω–∫—Ü–∏—è –¥“±—Ä—ã—Å –∂–∞–∑—ã–ª–º–∞“ì–∞–Ω!";
        return;
    }

    const c = document.getElementById("graph");
    const ctx = c.getContext("2d");
    ctx.clearRect(0,0,c.width,c.height);

    // –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –∂“Ø–π–µ—Å—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–ª–µ—Ä—ñ
    const cx = c.width/2;
    const cy = c.height/2;
    const scale = 40; // 1 –±—ñ—Ä–ª—ñ–∫ = 40 px

    // –¢–æ—Ä —Å—ã–∑—ã“õ—Ç–∞—Ä—ã
    ctx.strokeStyle="#e5e7eb";
    for(let x=0; x<c.width; x+=scale){
        ctx.beginPath();
        ctx.moveTo(x,0);
        ctx.lineTo(x,c.height);
        ctx.stroke();
    }
    for(let y=0; y<c.height; y+=scale){
        ctx.beginPath();
        ctx.moveTo(0,y);
        ctx.lineTo(c.width,y);
        ctx.stroke();
    }

    // –û—Ö –∂”ô–Ω–µ –û—É –æ—Å—å—Ç–µ—Ä—ñ
    ctx.strokeStyle="#111827";
    ctx.lineWidth=2;

    // Oy
    ctx.beginPath();
    ctx.moveTo(cx,0);
    ctx.lineTo(cx,c.height);
    ctx.stroke();

    // Ox
    ctx.beginPath();
    ctx.moveTo(0,cy);
    ctx.lineTo(c.width,cy);
    ctx.stroke();

    // –§—É–Ω–∫—Ü–∏—è –≥—Ä–∞—Ñ–∏–≥—ñ
    ctx.strokeStyle="#2563eb";
    ctx.lineWidth=3;

    ctx.beginPath();
    let first = true;
    for(let px=0; px<c.width; px++){
        let x = (px - cx) / scale;
        let y;
        try{
            y = f(x);
        }catch{
            continue;
        }
        if(typeof y !== "number" || !isFinite(y)) continue;

        let py = cy - y*scale;

        if(first){
            ctx.moveTo(px,py);
            first=false;
        } else {
            ctx.lineTo(px,py);
        }
    }
    ctx.stroke();
}
</script>
<div style="
    margin-top:40px;
    text-align:center;
    font-size:18px;
    padding:16px 0;
    color:#4b5563;
    border-top:4px solid #c084fc;
    background: linear-gradient(to right, #fff, #faf5ff, #fff);
    font-family:'Arial';
">
    üåø <b>AI-Pedagogy Tools</b> by <span style="color:#7c3aed;">Nazerke Kairatkyzy</span> üåø
</div>

</body>
</html>
