<!DOCTYPE html>
<html lang="kk">
<head>
<meta charset="UTF-8">
<title>7-—Å—ã–Ω—ã–ø ‚Äì –°–∞–Ω–Ω—ã“£ –¥”ô—Ä–µ–∂–µ—Å—ñ (Drag & Drop)</title>

<style>
body{
    font-family:Arial;
    background:#fdf2f8;
    padding:20px;
}
.container{
    max-width:900px;
    margin:auto;
    background:white;
    padding:26px;
    border-radius:20px;
    box-shadow:0 10px 25px rgba(0,0,0,0.18);
}
h2{
    text-align:center;
    color:#be185d;
    margin-top:0;
    font-size:26px;
}

.columns{
    display:flex;
    gap:30px;
    margin-top:20px;
    justify-content:space-between;
}

.col{
    width:45%;
    background:#fce7f3;
    padding:18px;
    border-radius:16px;
    min-height:260px;
    box-shadow:0 4px 10px rgba(0,0,0,0.1);
}

.title{
    font-size:20px;
    font-weight:bold;
    margin-bottom:14px;
    color:#9d174d;
}

.item{
    background:white;
    padding:12px 16px;
    border-radius:12px;
    border:2px solid #f472b6;
    margin-bottom:12px;
    cursor:grab;
    font-size:20px;
    transition:0.2s;
}
.item:active{cursor:grabbing;}

.answerbox{
    background:white;
    padding:14px;
    border-radius:12px;
    border:2px dashed #60a5fa;
    text-align:center;
    font-size:20px;
    min-height:40px;
    margin-bottom:12px;
}

.answerbox.correct{
    border-color:#16a34a !important;
}
.answerbox.wrong{
    border-color:#dc2626 !important;
}

.status{
    margin-top:20px;
    font-size:22px;
    font-weight:bold;
}
.ok{color:#16a34a;}
.err{color:#dc2626;}

.expl{
    margin-top:16px;
    background:#fef3c7;
    padding:16px;
    border-radius:12px;
    border-left:6px solid #fbbf24;
    display:none;
}

.nextbtn{
    margin-top:20px;
    padding:12px 18px;
    background:#ec4899;
    color:white;
    border:none;
    border-radius:12px;
    font-size:18px;
    cursor:pointer;
}
.nextbtn:hover{background:#db2777;}
</style>
</head>

<body>

<div class="container">

<h2>üìò 7-—Å—ã–Ω—ã–ø ‚Äì –°–∞–Ω–Ω—ã“£ –¥”ô—Ä–µ–∂–µ—Å—ñ (Drag & Drop)</h2>

<div class="columns">

    <!-- –°–æ–ª –∂–∞“õ: ”©—Ä–Ω–µ–∫—Ç–µ—Ä -->
    <div class="col" id="leftCol">
        <div class="title">”®—Ä–Ω–µ–∫—Ç–µ—Ä–¥—ñ —Å“Ø–π—Ä–µ–ø –∞–ø–∞—Ä</div>
        <div id="expressions"></div>
    </div>

    <!-- –û“£ –∂–∞“õ: –∂–∞—É–∞–ø “±—è—à—ã“õ—Ç–∞—Ä—ã -->
    <div class="col">
        <div class="title">–î“±—Ä—ã—Å –º”ô–Ω–¥—ñ —Ç–∞“£–¥–∞</div>
        <div id="answers"></div>
    </div>

</div>

<div id="status" class="status"></div>
<div id="expl" class="expl"></div>

<button onclick="nextQ()" class="nextbtn">–ö–µ–ª–µ—Å—ñ —Ç–∞–ø—Å—ã—Ä–º–∞–ª–∞—Ä</button>

</div>

<script>
/* ---- –¢–∞–ø—Å—ã—Ä–º–∞–ª–∞—Ä ---- */
const tasks = [
{
 exp:"2^3",
 ans:"8",
 e:"2¬≥ = 2¬∑2¬∑2 = 8"
},
{
 exp:"3^2",
 ans:"9",
 e:"3¬≤ = 3¬∑3 = 9"
},
{
 exp:"10^2",
 ans:"100",
 e:"10¬≤ = 10¬∑10 = 100"
},
{
 exp:"5^3",
 ans:"125",
 e:"5¬≥ = 5¬∑5¬∑5 = 125"
},
{
 exp:"4^2",
 ans:"16",
 e:"4¬≤ = 16"
}
];

let currentSet=[];

/* ---- –ñ–∞“£–∞ —Ç–∞–ø—Å—ã—Ä–º–∞ ---- */
function nextQ(){
    document.getElementById("status").textContent="";
    document.getElementById("expl").style.display="none";

    // 3 —Ç–∞–ø—Å—ã—Ä–º–∞–Ω—ã —Ç–∞“£–¥–∞—É
    currentSet = [...tasks].sort(()=>Math.random()-0.5).slice(0,3);

    const exprHTML = currentSet.map((t,i)=>
        `<div class="item" draggable="true" ondragstart="drag(event)" id="exp${i}">${t.exp}</div>`
    ).join("");

    const ansHTML = currentSet.map((t,i)=>
        `<div class="answerbox" ondrop="drop(event, '${t.ans}', ${i})" ondragover="allowDrop(event)">
            ${t.ans}
         </div>`
    ).join("");

    document.getElementById("expressions").innerHTML = exprHTML;
    document.getElementById("answers").innerHTML = ansHTML;
}

/* ---- Drag & Drop ---- */
function allowDrop(ev){ ev.preventDefault(); }

function drag(ev){ ev.dataTransfer.setData("text", ev.target.id); }

function drop(ev, correctAns, index){
    ev.preventDefault();
    const data = ev.dataTransfer.getData("text");
    const dragged = document.getElementById(data);
    ev.target.appendChild(dragged);

    const chosenExp = dragged.textContent.trim().replace("^","**");

    let result;
    try{
        result = eval(chosenExp);
    }catch{
        result = null;
    }

    const status = document.getElementById("status");
    const expl = document.getElementById("expl");

    if(result == correctAns){
        ev.target.classList.add("correct");
        status.textContent="‚úÖ –î“±—Ä—ã—Å!";
        status.className="status ok";
        expl.style.display="block";
        expl.innerHTML = "–¢“Ø—Å—ñ–Ω–¥—ñ—Ä—É: " + currentSet[index].e;
    } else {
        ev.target.classList.add("wrong");
        status.textContent="‚ùå “ö–∞—Ç–µ!";
        status.className="status err";
        expl.style.display="block";
        expl.innerHTML = "–ù“±—Å“õ–∞—É–ª—ã“õ: " + currentSet[index].e;
    }
}

nextQ();
</script>
<div style="
    margin-top:40px;
    text-align:center;
    font-size:18px;
    padding:16px 0;
    color:#4b5563;
    border-top:4px solid #c084fc;
    background: linear-gradient(to right, #fff, #faf5ff, #fff);
    font-family:'Arial';
">
    üåø <b>AI-Pedagogy Tools</b> by <span style="color:#7c3aed;">Nazerke Kairatkyzy</span> üåø
</div>

</body>
</html>
