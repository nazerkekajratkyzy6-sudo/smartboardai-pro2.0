<!DOCTYPE html>
<html lang="kk">
<head>
<meta charset="UTF-8">
<title>–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ —Ç—Ä–µ–Ω–∞–∂–µ—Ä—ã (5‚Äì6 —Å—ã–Ω—ã–ø)</title>

<!-- KaTeX -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"></script>

<style>
  body{
    font-family:Arial,sans-serif;
    background:#f1f5f9;
    margin:0;
    padding:20px;
    color:#111827;
  }
  .container{
    max-width:800px;
    margin:0 auto;
    background:#ffffff;
    padding:20px 22px;
    border-radius:16px;
    box-shadow:0 4px 14px rgba(0,0,0,0.15);
  }
  h1{text-align:center;margin:0 0 12px;}
  select,input[type="text"]{
    width:100%;padding:10px;margin-top:6px;
    border-radius:10px;border:1px solid #cbd5f5;font-size:16px;
  }
  button{
    padding:10px 16px;border-radius:10px;border:none;
    background:#2563eb;color:white;font-weight:bold;
    cursor:pointer;margin-top:10px;margin-right:6px;
  }
  button:hover{background:#1d4ed8;}
  .question-box{
    margin-top:14px;background:#e5edff;padding:14px;
    font-size:17px;border-radius:12px;min-height:40px;
  }
  .status{margin-top:10px;font-weight:bold;}
  .status.ok{color:#16a34a;}
  .status.err{color:#dc2626;}
  .score{margin-top:10px;padding:8px;background:#f9fafb;border-radius:10px;}
</style>
</head>
<body>

<div class="container">
  <h1>üìò –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ —Ç—Ä–µ–Ω–∞–∂–µ—Ä—ã (5‚Äì6 —Å—ã–Ω—ã–ø)</h1>

  <label><b>–°—ã–Ω—ã–ø—Ç—ã —Ç–∞“£–¥–∞:</b></label>
  <select id="grade" onchange="loadTopics()">
    <option value="">‚Äî –¢–∞“£–¥–∞“£—ã–∑ ‚Äî</option>
    <option value="5">5-—Å—ã–Ω—ã–ø</option>
    <option value="6">6-—Å—ã–Ω—ã–ø</option>
  </select>

  <label style="margin-top:10px;"><b>–¢–∞“õ—ã—Ä—ã–ø—Ç—ã —Ç–∞“£–¥–∞:</b></label>
  <select id="topic" onchange="resetTrainer()">
    <option value="">–ê–ª–¥—ã–º–µ–Ω —Å—ã–Ω—ã–ø —Ç–∞“£–¥–∞</option>
  </select>

  <div id="question" class="question-box">–¢–∞“õ—ã—Ä—ã–ø —Ç–∞“£–¥–∞–ª–º–∞“ì–∞–Ω.</div>

  <label><b>–ñ–∞—É–∞–ø:</b></label>
  <input type="text" id="answer" placeholder="–ú—ã—Å–∞–ª—ã: 12, 3/4, 25">

  <button onclick="checkAnswer()">–¢–µ–∫—Å–µ—Ä—É ‚úÖ</button>
  <button onclick="nextQuestion()">–ö–µ–ª–µ—Å—ñ —Ç–∞–ø—Å—ã—Ä–º–∞ üîÑ</button>

  <div id="status" class="status"></div>
  <div id="score" class="score">–î“±—Ä—ã—Å: 0 | –ë–∞—Ä–ª—ã“ì—ã: 0</div>
</div>

<script>
// –°—ã–Ω—ã–ø ‚Üí —Ç–∞“õ—ã—Ä—ã–ø—Ç–∞—Ä
const topicsByGrade = {
  5:["–ù–∞—Ç—É—Ä–∞–ª —Å–∞–Ω–¥–∞—Ä","“ö–æ—Å—É/–∞–∑–∞–π—Ç—É","–ë”©–ª—à–µ–∫—Ç–µ—Ä","–ü—Ä–æ—Ü–µ–Ω—Ç"],
  6:["–¢–µ—Ä—ñ—Å —Å–∞–Ω–¥–∞—Ä","–ë”©–ª—à–µ–∫—Ç–µ—Ä –∂”ô–Ω–µ –ø—Ä–æ—Ü–µ–Ω—Ç","–ü—Ä–æ–ø–æ—Ä—Ü–∏—è","“ö–∞—Ä–∞–ø–∞–π—ã–º —Ç–µ“£–¥–µ—É"]
};

// –°“±—Ä–∞“õ—Ç–∞—Ä (KaTeX —Ñ–æ—Ä–º—É–ª–∞–º–µ–Ω)
const questions = [
  // 5 —Å—ã–Ω—ã–ø
  {grade:5, topic:"–ù–∞—Ç—É—Ä–∞–ª —Å–∞–Ω–¥–∞—Ä",
   q:"–ï—Å–µ–ø—Ç–µ: \\(345 + 120\\)", a:"465"},
  {grade:5, topic:"“ö–æ—Å—É/–∞–∑–∞–π—Ç—É",
   q:"–ï—Å–µ–ø—Ç–µ: \\(700 - 245\\)", a:"455"},
  {grade:5, topic:"–ë”©–ª—à–µ–∫—Ç–µ—Ä",
   q:"–ï—Å–µ–ø—Ç–µ: \\(\\frac{1}{2} + \\frac{1}{4}\\)", a:"3/4"},
  {grade:5, topic:"–ë”©–ª—à–µ–∫—Ç–µ—Ä",
   q:"“ö—ã—Å“õ–∞—Ä—Ç: \\(\\frac{4}{8}\\)", a:"1/2"},
  {grade:5, topic:"–ü—Ä–æ—Ü–µ–Ω—Ç",
   q:"\\(100\\)-–¥—ñ“£ \\(25\\%\\)-—ã", a:"25"},
  {grade:5, topic:"–ü—Ä–æ—Ü–µ–Ω—Ç",
   q:"\\(200\\)-–¥—ñ“£ \\(10\\%\\)-—ã", a:"20"},

  // 6 —Å—ã–Ω—ã–ø
  {grade:6, topic:"–¢–µ—Ä—ñ—Å —Å–∞–Ω–¥–∞—Ä",
   q:"–ï—Å–µ–ø—Ç–µ: \\(-5 + 12\\)", a:"7"},
  {grade:6, topic:"–¢–µ—Ä—ñ—Å —Å–∞–Ω–¥–∞—Ä",
   q:"–ï—Å–µ–ø—Ç–µ: \\(-8 - 7\\)", a:"-15"},
  {grade:6, topic:"–ë”©–ª—à–µ–∫—Ç–µ—Ä –∂”ô–Ω–µ –ø—Ä–æ—Ü–µ–Ω—Ç",
   q:"\\(\\frac{3}{5}\\)-–¥—ñ –ø—Ä–æ—Ü–µ–Ω—Ç–∫–µ –∞–π–Ω–∞–ª–¥—ã—Ä", a:"60%"},
  {grade:6, topic:"–ë”©–ª—à–µ–∫—Ç–µ—Ä –∂”ô–Ω–µ –ø—Ä–æ—Ü–µ–Ω—Ç",
   q:"\\(250\\)-–¥—ñ“£ \\(20\\%\\)-—ã", a:"50"},
  {grade:6, topic:"–ü—Ä–æ–ø–æ—Ä—Ü–∏—è",
   q:"–ü—Ä–æ–ø–æ—Ä—Ü–∏—è: \\(2:5 = x:20\\). \\(x\\)-—Ç—ñ —Ç–∞–ø", a:"8"},
  {grade:6, topic:"“ö–∞—Ä–∞–ø–∞–π—ã–º —Ç–µ“£–¥–µ—É",
   q:"–¢–µ“£–¥–µ—É–¥—ñ —à–µ—à: \\(2x + 5 = 13\\)", a:"4"},
  {grade:6, topic:"“ö–∞—Ä–∞–ø–∞–π—ã–º —Ç–µ“£–¥–µ—É",
   q:"–¢–µ“£–¥–µ—É–¥—ñ —à–µ—à: \\(3x - 9 = 0\\)", a:"3"}
];

let current = null;
let correct = 0;
let total = 0;

function renderMathIn(el){
  if(window.renderMathInElement){
    renderMathInElement(el, {
      delimiters:[
        {left:"$$", right:"$$", display:true},
        {left:"\\(", right:"\\)", display:false}
      ]
    });
  }
}

window.addEventListener("load", () => {
  if(window.renderMathInElement){
    renderMathIn(document.body);
  }
});

function loadTopics(){
  const grade = document.getElementById("grade").value;
  const topicSel = document.getElementById("topic");
  if(!grade){
    topicSel.innerHTML = "<option>–ê–ª–¥—ã–º–µ–Ω —Å—ã–Ω—ã–ø —Ç–∞“£–¥–∞</option>";
    resetTrainer(true);
    return;
  }
  const topics = topicsByGrade[grade];
  topicSel.innerHTML = "<option value=''>‚Äî –¢–∞“õ—ã—Ä—ã–ø —Ç–∞“£–¥–∞ ‚Äî</option>";
  topics.forEach(t=>{
    topicSel.innerHTML += `<option value="${t}">${t}</option>`;
  });
  resetTrainer(true);
}

function getFiltered(){
  const g = document.getElementById("grade").value;
  const t = document.getElementById("topic").value;
  return questions.filter(q => q.grade == g && q.topic === t);
}

function nextQuestion(){
  const list = getFiltered();
  const qBox = document.getElementById("question");
  if(list.length === 0){
    qBox.textContent = "–ë“±–ª —Å—ã–Ω—ã–ø/—Ç–∞“õ—ã—Ä—ã–ø “Ø—à—ñ–Ω —Å“±—Ä–∞“õ –µ–Ω–≥—ñ–∑—ñ–ª–º–µ–≥–µ–Ω.";
    return;
  }
  current = list[Math.floor(Math.random()*list.length)];
  qBox.innerHTML = current.q;
  renderMathIn(qBox);
  document.getElementById("status").textContent = "";
  document.getElementById("status").className = "status";
  document.getElementById("answer").value = "";
}

function norm(x){
  return x.toString().trim().replace(",",".").toLowerCase();
}

function checkAnswer(){
  if(!current){
    document.getElementById("status").textContent = "–ê–ª–¥—ã–º–µ–Ω —Ç–∞–ø—Å—ã—Ä–º–∞ —Ç–∞“£–¥–∞!";
    return;
  }
  const u = norm(document.getElementById("answer").value);
  const r = norm(current.a);
  total++;
  if(u === r){
    correct++;
    const st = document.getElementById("status");
    st.textContent = "‚úÖ –î“±—Ä—ã—Å!";
    st.className = "status ok";
  } else {
    const st = document.getElementById("status");
    st.textContent = "‚ùå –î“±—Ä—ã—Å –∂–∞—É–∞–ø: " + current.a;
    st.className = "status err";
  }
  document.getElementById("score").textContent = `–î“±—Ä—ã—Å: ${correct} | –ë–∞—Ä–ª—ã“ì—ã: ${total}`;
}

function resetTrainer(soft){
  current = null;
  document.getElementById("question").textContent = "–¢–∞“õ—ã—Ä—ã–ø —Ç–∞“£–¥–∞–ø, ¬´–ö–µ–ª–µ—Å—ñ —Ç–∞–ø—Å—ã—Ä–º–∞¬ª –±–∞—Ç—ã—Ä–º–∞—Å—ã–Ω –±–∞—Å.";
  document.getElementById("status").textContent = "";
  document.getElementById("answer").value = "";
  if(!soft){
    correct = 0; total = 0;
    document.getElementById("score").textContent = "–î“±—Ä—ã—Å: 0 | –ë–∞—Ä–ª—ã“ì—ã: 0";
  } else {
    correct = 0; total = 0;
    document.getElementById("score").textContent = "–î“±—Ä—ã—Å: 0 | –ë–∞—Ä–ª—ã“ì—ã: 0";
  }
}
</script>
<div style="
    margin-top:40px;
    text-align:center;
    font-size:18px;
    padding:16px 0;
    color:#4b5563;
    border-top:4px solid #c084fc;
    background: linear-gradient(to right, #fff, #faf5ff, #fff);
    font-family:'Arial';
">
    üåø <b>AI-Pedagogy Tools</b> by <span style="color:#7c3aed;">Nazerke Kairatkyzy</span> üåø
</div>

</body>
</html>
